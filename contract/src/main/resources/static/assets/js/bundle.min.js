!function(W){W.fn.fsvs=function(l){l=l||{};var e={el:null,speed:5e3,autoPlay:!1,bodyID:"fsvs-body",mouseSwipeDisance:40,afterSlide:function(){},beforeSlide:function(){},endSlide:function(){},mouseWheelEvents:!0,mouseWheelDelay:!1,scrollableArea:"scrollable",mouseDragEvents:!0,touchEvents:!0,arrowKeyEvents:!0,pagination:!0,nthClasses:!1,detectHash:!0,slideClass:"slide",selector:"> ."+this.slideClass};for(var n in l)e[n]=l[n];l=e;function s(){a=setInterval(function(){g.canSlideDown()?g.slideDown():g.slideToIndex(0)},l.autoPlay)}function i(){var e=window.chrome,n=window.navigator.vendor;return null!==e&&"Google Inc."===n}function r(e){var n=window.event||e,s=n.wheelDelta||n.detail||n.originalEvent.detail,t=Math.max(-1,Math.min(1,s));if(i()&&(s=Math.floor(s/5)),n.originalEvent&&n.originalEvent.detail){if(0<t)return!1}else if(t<0)return!1;return!0}function t(e){var n=window.event||e,s=0;if("mousewheel"==n.type?s=-1*n.originalEvent.wheelDelta:"DOMMouseScroll"==n.type&&(s=40*n.originalEvent.detail),s=n.wheelDelta||-n.detail||s,Math.max(-1,Math.min(1,s)),i()&&(s=Math.floor(s/5)),(!v||l.mouseWheelDelay&&Date.now()>h+l.mouseWheelDelay)&&5<Math.abs(s)){h=Date.now();var t=v=!0,o=W(e.target);if(o.hasClass(l.scrollableArea)||0!==o.parents("."+l.scrollableArea).length){t=!1;var a=o.closest("."+l.scrollableArea);o.hasClass(l.scrollableArea)&&(a=o),r(e)&&0===a.scrollTop()?t=!0:a[0].scrollHeight-a.scrollTop()===a.outerHeight()&&(t=!0)}t?r(e)?g.slideUp():g.slideDown():v=!1}}function o(e){if(d=e,l.afterSlide(e),l.detectHash){var n=W(l.selector,f).eq(e);window.location.hash=n[0].id}g.canSlideDown()||l.endSlide(e),l.autoPlay&&null===a&&s(),v=!1}var a=null,d=0,c=!1,u=null,f=null,v=!1,h=0,w=!1,p=null,m="active-slide",g={nthClasses:P,addPagination:function(){w=W('<ul id="fsvs-pagination"></ul>'),W(l.selector,f).each(function(e){W('<li class="'+(d===e?"pagination-link active":"pagination-link")+'"><span><span></span></span></li>').appendTo(w)}),0!==W("#fsvs-pagination").length&&W("#fsvs-pagination").remove(),w.appendTo(W("body"));var e=w.height(),n=l.speed/1e3;W("span",w).css({"-webkit-transition":"all "+n+"s","-moz-transition":"all "+n+"s","-o-transition":"all "+n+"s",transition:"all "+n+"s"}),w.css({marginTop:"-"+e/2+"px",right:"25px"}),W("li",w).bind("click.fsvs",function(e){c=!0,W(".active",w).removeClass("active"),W(this).addClass("active"),g.slideToIndex(W(this).index(),e)})},setSpeed:function(e){speed=e/1e3,f.css({"-webkit-transition":"all "+speed+"s","-moz-transition":"all "+speed+"s","-o-transition":"all "+speed+"s",transition:"all "+speed+"s"})},shouldRun:function(){return W("html").hasClass("fsvs")},canSlideUp:function(){return 0!==d},canSlideDown:function(){return 0!==W(l.selector,f).eq(d+1).length},addClasses:function(e,n){var s=W("body");p=n+1,s.removeClass(removeClass=m+"-"+(e+1)),s.addClass(m+"-"+p),W(l.selector,f).eq(e).removeClass(m),W(l.selector,f).eq(n).addClass(m),l.nthClasses&&(s.removeClass("active-nth-slide-"+(e%l.nthClasses+1)),s.addClass("active-nth-slide-"+(n%l.nthClasses+1)))},slideToIndex:function(e,n){(n=n||!1)&&l.autoPlay&&(clearInterval(a),a=null),!n&&w&&(W(".active",w).removeClass("active"),W("> *",w).eq(e).addClass("active")),g.addClasses(d,e),y()?U(e):A(e)},unbind:function(){S(),T(),I(),x(),z(),W("html").removeClass("fsvs")},rebind:function(){W("html").addClass("fsvs"),g.init()},slideDown:function(e){g.canSlideDown()?(c=!0,g.slideToIndex(d+1,e)):v=!1},slideUp:function(e){g.canSlideUp()?(c=!0,g.slideToIndex(d-1,e)):v=!1},init:function(){f=W(l.el?l.el:"#"+l.bodyID),y()&&g.setSpeed(l.speed),l.pagination&&g.addPagination(),l.nthClasses&&P(l.nthClasses),l.mouseWheelEvents&&M(),l.arrowKeyEvents&&k(),l.mouseDragEvents&&D(),l.touchEvents&&E(),l.detectHash&&(b(),window.addEventListener?window.addEventListener("hashchange",C,!1):window.attachEvent&&window.attachEvent("onhashchange",C)),""===window.location.hash&&g.addClasses(0,0),l.autoPlay&&l.autoPlay>l.speed&&s()}},C=function(){if(!c&&""!==window.location.hash){var e=window.location.hash,n=W("> "+e,f);g.slideToIndex(n.index())}c=!1},b=function(){W(l.selector,f).each(function(e){var n=W(this);n.attr("id")||n.attr("id","slide-"+(e+1))}),C()},y=function(){var e=["Webkit","Moz","ms","O"];for(var n in e)if(void 0!==document.getElementsByTagName("body")[0].style[e[n]+"Transition"])return!0;return!1},D=function(){var n,s=!1;window.onmousedown=function(e){s=!(-1==W.inArray(e.target.nodeName.toLowerCase(),["a","input","textarea","select"])||!function(e){return 0!=e.parents("."+l.scrollabelArea).length}(W(e.target)))||(n=e.y,!1)},window.onmouseup=function(e){e.y>(n+l.mouseSwipeDisance&&!s)?g.slideUp():e.y<(n-l.mouseSwipeDisance&&!s)&&g.slideDown()}},S=function(){window.onmousedown=function(){},window.onmouseup=function(){}},E=function(){var i=null;W(window).on("touchstart.fsvs",function(e){var n=e.originalEvent,s=["a","input","textarea","select"],t=n.target.nodeName.toLowerCase(),o=!1;if(s.forEach(function(e){0!==W(n.target).parents(e).length&&(o=!0),0!=W(n.target).parents("."+l.scrollableArea).length&&(o=!0)}),-1==W.inArray(t,s)&&!o){var a=n.touches;a&&a.length&&(i=a[0].pageY)}}),W(window).on("touchmove.fsvs",function(e){var n=e.originalEvent;if(null!==i){var s=n.touches;if(s&&s.length){var t=i-s[0].pageY;t>=l.mouseSwipeDisance&&(g.slideDown(),i=null),t<=-1*l.mouseSwipeDisance&&(g.slideUp(),i=null)}n.preventDefault()}})},x=function(){W(window).unbind("touchstart.fsvs"),W(window).unbind("touchmove.fsvs")},M=function(){W(window).bind("wheel.fsvs mousewheel.fsvs DOMMouseScroll.fsvs MozMousePixelScroll.fsvs",t)},T=function(){W(window).unbind("wheel.fsvs mousewheel.fsvs DOMMouseScroll.fsvs MozMousePixelScroll.fsvs",t)},k=function(){var n=!0;W("input,textarea,select,option",f).bind("focus.fsvs",function(){n=!1}).bind("blur.fsvs",function(){n=!0}),window.onkeydown=function(e){"38"==(e=e||window.event).keyCode&&n?g.slideUp():"40"==e.keyCode&&n&&g.slideDown()}},I=function(){W("input,textarea,select,option",f).unbind("focus.fsvs blur.fsvs"),window.onkeydown=function(){}},P=function(s){W(l.selector,f).each(function(e){var n="nth-class-"+(e%s+1);W(this).hasClass(n)||W(this).addClass(n)})},A=function(e){l.beforeSlide(e),f.is(":animated")&&(d=e,f.stop()),f.animate({top:"-"+e*W(window).height()+"px"},l.speed,function(){o(e)})},U=function(e){l.beforeSlide(e),f.css({"-webkit-transform":"translate3d(0, -"+100*e+"%, 0)","-moz-transform":"translate3d(0, -"+100*e+"%, 0)","-ms-transform":"translate3d(0, -"+100*e+"%, 0)",transform:"translate3d(0, -"+100*e+"%, 0)"}),null!==u&&(d=e,clearTimeout(u)),u=setTimeout(function(){o(e),u=null},l.speed)},z=function(){f.attr("style",""),W(l.selector,f).each(function(e){W(this).removeClass(m)}),W("body").removeClass(m+"-"+p),W("#fsvs-pagination").remove()};return g.shouldRun()&&g.init(),g}}(jQuery);